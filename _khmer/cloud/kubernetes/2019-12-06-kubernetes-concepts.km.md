---
title: "Kubernetes concepts"
excerpt: "អ្វីទៅជា​ Kubernetes, Architecture, components"
categories:
  - kubernetes  
tags:
  - Kubernetes
  - concepts
  - architecture
toc: true
toc_sticky: true
toc_label: "Kubernetes"
sidebar:
  title: "Kubernetes"
  nav: kubernetes
lang: km
english_url: "/cloud/kubernetes/2019-12-06-kubernetes-concepts"
---
> [Read Official Documentation](https://kubernetes.io/){:target="\_blank"}

## តើKubernetesគឺជាអ្វី?
Kubernetes (ហៅកាត់ថា K8s) បង្កើត​ឡើង​ដោយ​ក្រុមហ៊ុនGoogleនៅ​ឆ្នាំ២០១៤ គឺជាប្រព័ន្ឋ​គ្រប់គ្រង​កម្មវិធី​ប្រភេទ​លក្ខណៈជា​container ដែល​​មាន​សមត្ថភាព​ក្នុង​​ការ​គ្រប់​គ្រង​កម្ម​វិធីដោយ​ស្វ័យ​ប្រវត្តិ ​ការប​ង្កើត​ ដំណើរការ និងការបង្កើន​សមត្ថភាព​កម្មវិធី ដោយ​​​ផ្តល់​ភាព​ងាយ​ស្រួល​ក្នុង​ការ​គ្រប់​គ្រងនិង​កំណត់​អោយ​​កម្មវិធី​ដំណើរ​ការ​ដោយ​ស្វ័យ​ប្រវត្តិ ព្រមទាំង​​ធានាថា​កម្មវិធី​ដំណើរ​ការ​ដោយ​រលូន។  
សម្រាប់​អ្នក​ដែល​មិន​សូវស្គាល់​ពី​Container​ក្នុង​បរិបទ​កុំព្យូទ័រ គួរ​ស្វែង​យល់អត្ថន័យ​មួយ​ចំនួន​ខាង​ក្រោម​៖

> - តើ​អ្វី​ទៅជា​ Containerized application?  
  គឺជា​ប្រភេទ​កម្មវិធីapplication ​ដែល​ដំណើរ​ការ​នៅ​លើខនថេនើ(​Container)។

> - តើអ្វីទៅ​ជា​Container?  
  គឺជា​កញ្ចប់​កម្មវិធី(software)​មួយ​ដែល​វេច​ខ្ចប់​កូដ​និង​រាល់​កម្មវិធី​ឬទិន្នន័យ​ទាំងឡាយ​ណាដែល​ត្រូវ​ការ​ចំាបាច់​សម្រាប់​អោយ​​កម្មវិធី(application)មួយ​អាច​ដំណើរ​ការ​បានលឿន ងាយ​ស្រួល ទំនុក​ចិត្ត និងអាច​ដំណើរការ​បាន​លើ​រាល់​ប្រព័ន្ឋ​ប្រតិបត្តិ​ការណ៍(OS)នានា។

> - តើអ្វី​ទៅជា​Container Runtime?  
  គឺជា​កម្មវិធី​(software)មួយ​ដែល​ប្រើ​សម្រាប់​ដំណើរ​ការ​និង​គ្រប់​គ្រង​Containers។ Container Runtime ដែល​ពេញនិយម​ប្រើ​ច្រើន​ជាងគេ​មាន​ដូចជា Docker, rkt, containerd, lxd ។ល។

## ហេតុអ្វីត្រូវ​ប្រើKubernetes?

### បដិវត្តន៍​នៃ​ដំឡើងការ​កម្មវិធី(Application)
[![app-evol](/assets/images/kubernetes/Going-back-in-time.png)](/assets/images/kubernetes/Going-back-in-time.png)

- **យុគសម័យដើមដំបូង (Traditional Deployment era):**  
  រាល់​កម្មវិធី(application)ទាំងអស់​ត្រូវ​បាន​គេប្រើ​ដោយ​ដាក់​អោយ​ដំណើរការ​នៅលើម៉ាសុីន​​កុំ​ព្យូទ័រជាក់​ស្តែង​ដោយ​ផ្ទាល់។ ហើយ​នៅលើ​ម៉ាសុីន​កុំ​ព្យូ​ទ័រ​តែមួយ អាចមាន​កម្មវិធី​ជាច្រើន​ដែល​កំពុង​ដំណើរការដំណាល​គ្នា។ នៅពេល​ដែល​កម្មវិធី​កុំព្យូទ័រ​ណាមួយ​គាំងហើយ​ប្រើធនធាន​ទាំងអស់របស់កុំព្យទ័រ​នោះ នឹង​ធ្វើអោយ​កម្មវិធី​ផ្សេងទៀត​មិនអាច​ដំណើរការបាន ព្រម​ទាំង​ធ្វើ​អោយ​ប្រព័​ន្ឋ​ប្រតិបត្តិការណ៍​កុំព្យូទ័រទាំងមូល​គាំងមិន​ដំណើរការ។ ឧទាហរណ៍ យើ​ងកំពុង​ដំណើរការ​កម្មវិធី​វាយ​ឯកសារការងារបណ្តើរ ស្តាប់​ចម្រៀង​​បណ្តើរ​ នៅ​លើ​កំុព្យូទ័រតែមួយ នៅពេលដែល​កម្មវិធីស្តាប់​ចម្រៀងគាំង​ហើយ​សុីCPU និង Memoryអស់​ នោះនឹង​ធ្វើ​អោយ​កម្មវិធី​វាយ​ឯកសារមិន​អាច​ដំណើរការបានដែរ ព្រមទាំងអាច​ធ្វើ​ប្រព័ន្ឋ​ប្រតិបត្តិការណ៍(OS)ទាំងមូល​គាំង​មិន​ដំណើរការផងដែរ។  
  ដូច្នេះហើយ ដំណោះ​ស្រាយ​នៅពេលនោះគឺ ​យើង​​ត្រូវកំណត់​ចំនួន​ធនធាន(CPU, memory,...)ឲ្យ​កម្មវិធីមួយ​ប្រើ ឬ​ដំណើរការ​កម្មវិធី​នីមួយ​ៗ​នៅលើ​ម៉ាសុីន​កុំព្យូទ័រ​ផ្សេងៗ​គ្នា ប៉ុន្តែ​ការធ្វើបែប​នេះ​វា​មិន​មែន​ជាដំណោះ​ស្រាយ​ល្អនោះទេ ព្រោះម៉ាសុីន​កុំព្យូទ័​មាន​តម្លៃថ្លៃចំណាយ​ច្រើន​ ហើយ​ ​កុំព្យូទ័រ​តែមួយអាច​មាន​សមត្ថភាព​ប្រើប្រាស់​កម្មវិធី​បាន​ច្រើន​ក្នុង​ពេល​ដំណាលគ្នា គ្រាន់តែ​យើ​ង​មិន​អាច​ដឹង​មុន​បាន​ថា កម្មវិធី​ណានឹង​គាំង ហើយ​ទប់​ស្កាត់​កម្មវិធី​នោះមិន​អោយ​ប្រើ​ធនធាន​ទាំង​អស់​របស់​កុំព្យូទ័រ​តែប៉ុណ្ណោះ។

- **យុគសម័យ​និម្មិត (Virtualized Deployment era):**  
  ដោយសារ​ការ​ដំណើរការ​កម្មវិធី​នីមួយ​ៗ​នៅលើ​ម៉ាសុីនកុំព្យូទ័រ​​ដាច់ដោយ​ឡែក​គ្នា ត្រូវ​ការ​ចំណាយ​ប្រាក់​ច្រើន​ដើម្បីទិញ​ម៉ាសុីន​កុំព្យូទ័រមក​ប្រើ ដូច្នេះ​ហើយ​ ដើម្បី​ដោះស្រាយ​បញ្ហានៅពេល​នោះ ម៉ាសុីន​និម្មិត​(Virtual Machine)ត្រូវបាន​គេបង្កើតឡើង។  កម្មវិធីនីមួយ​ៗ​របស់​យើង​អាច​ដាក់​អោយ​ដំណើរ​ការ​នៅលើម៉ាសុីន​​កុំព្យូទ័រ(និម្មិត)ដាច់​ដោយ​ឡែកពីគ្នាបាន។ រាល់​ម៉ាសុីន​និម្មិត​នីមួយៗមាន​គ្រប់​សមាសភាព​ទាំងអស់ដូច​ម៉ាសុីន​ជាក់​ស្តែង រាប់​បញ្ចូល​ទាំង​ប្រព័ន្ឋ​ប្រតិបត្តិការណ៍​(OS)រៀងៗខ្លួន។
  > - តើអ្វីទៅជា​ម៉ាសុីន​និម្មិត​(Virtual Machine)?  
  ម៉ាសុីន​និម្មិត គឺជា​ការ​បង្កើត​ម៉ាសុីន​​កុំព្យូទ័រចេញពីកម្ម​វិធីកុំព្យ័ទ័រ ដោយ​ការ​យក​ម៉ាសុីន​កុំព្យទ័រ​​ពិតជាក់​ស្តែង (physical hardware) បំលែង​​អោយ​ទៅជា​​​ម៉ាសុីន​និម្មិត​ជា​ច្រើន។
  ​ម៉ាសុីន​កុំព្យូទ័រ​​ពិតជាក់​ស្តែង​មាន​តែ​មួយទេ តែ​យើង​អាច​​ប្រើ​បាន​ដូច​មាន​ម៉ាសុីន​ច្រើន ហើយ​អាច​បង្កើត​និង​ដំណើរ​ការ​ប្រព័ន្ឋ​ប្រតិបត្តិការណ៍​កុំព្យូទ័រ​​នៅលើ​ម៉ាសុីន​និម្មិត​ទាំងនោះបានក្នុង​ពេល​ដំណាល​គ្នា​ ដោយ​ការ​ចែក​គ្នា​ប្រើ​នូវ​ធនធាន​(CPU, Memory, Disk, ...)ដែល​មាន​​នៅលើម៉ាសុីន​ពិតជាក់​ស្តែង​តែមួយ​នោះ។  
  > - តើ​អ្វីទៅ​ជា​Hypervisor?  
  Hypervisor អាច​ត្រូវ​បាន​គេ​ហៅថា Virtual Machine Monitor គឺជាsoftwareដែល​ប្រើ​សំរាប់បង្កើត ដំណើរការ និង​ គ្រប់គ្រង​លើម៉ាសុីន​និម្មិត(Virtual machine)។

- **យុគសម័យ​ខនថេនើ (Container Deployment era):**    
  ទោះបី​​ម៉ាសុីន​និម្មិតត្រូវ​បាន​បង្កើត​ឡើងដើម្បីអាច​​ឲ្យ​កម្មវិធី​នីមួយ​ៗ​ដំណើរការ​នៅ​លើ​ម៉ាសុីន​ដាច់​ដោយ​ឡែក​ពី​គ្នាបាន​យ៉ាងណាក្តី ក៏បញ្ហា​នៅតែមាន​ជាបន្តបន្ទាប់។ យើង​ដឹង​ថា​ម៉ាសុីន​និម្មិត ត្រូវ​បាន​បង្កើតឡើងចេញពី​ម៉ាសុីន​ពិតជាក់ស្តែង ហើយ​ត្រូវ​ដំឡើង​ប្រព័ន្ឋ​ប្រតិបត្តិការណ៍(OS)រៀង​ៗខ្លួន ដើម្បីអាច​ដំណើរការ​កម្មវិធី​នៅលើនោះបាន។ ដូច្នេះ​ហើយ​ការដំឡើង​OSរៀងៗ​ខ្លួន​នេះ ក៏បានក្លាយ​ជា​បញ្ហា ព្រោះ​គ្រាន់តែ​ចង់​ដំណើរការ​កម្មវិធី​តូច​មួយ​​ យើង​ត្រូវ​ស្មុគ​ស្មាញ​ដំឡើងOSជាមុន ហើយ​ខាត​ទំហំផ្ទុកទិន្នន័យ​អស់​ជាច្រើន(~10GB)។  
  ដើម្បី​ដោះ​ស្រាយ​បញ្ហានេះ ខនថេនី(Container)ត្រូវ​បាន​គេ​បង្កើត​ឡើង។ ខនថេនើ ស្រដៀងទៅ​នឹង​ម៉ាសុីន​និម្មិត​ដែរ ប៉ុន្តែវា​មាន​លក្ខណៈស្រាល​ជាងម៉ាសុីន​និម្មិត ដោយ​ខនថេនី​នីមួយៗ​មិន​ចាំបាច់​ត្រូវមាន​OSរៀងៗខ្លួន​ដើម្បី​ដំណើរការកម្មវិធីមួយនោះទេ។ ខនថេនើ​នីមួយៗ​ចែកគ្នាប្រើOSរួម​គ្នា ហើយ​ខនថេនើមួយ​មាន​ file system(storage), CPU, Memory, Process space, ...រៀងៗ​ខ្លួន។ ខនថេនើ​ត្រូវ​បាន​គេ​បង្កើតឡើង និង​​បញ្ជូន​​ឲ្យ​គ្នា​ទៅ​វិញទៅមកតាមរយៈClouds(ឃ្លាំង​ផ្ទុក​ឯកសារនៅលើអុីនធើណេត) និង​អាច​ចែក​ចាយ​ដាក់ឲ្យ​ប្រើ​នៅលើOSផ្សេងៗបាន។

សរុប​សេចក្តីមក ក្នុង​សម័យ​បច្ចុប្បន្ននេះ ខនថេនើ​ត្រូវ​បាន​គេ​ប្រើ​ច្រើន​សំរាប់ផ្នែក​Cloud computing ព្រោះវា​មាន​ភាព​ងាយ​ស្រួល​ក្នុង​ការ​​បង្កើត គ្រប់គ្រង ចែករំលែក មាន​ទំហំស្រាល ហើយ​ដំណើរការ​មិន​រើសOSទេ ព្រមទាំង​ធានាបាន​ថា​រាល់ពេល​កម្មវិធីដែល​ដំណើរការនៅលើ​ខនថេនើមួយមានបញ្ហាគាំងក្តី ក៏វា​មិន​បណ្តាលឲ្យ​ប្រព័​ន្ឋ​កុំព្យូទ័រ​ទាំងមូល​លែង​ដំណើរការ​ដែរ។

### តើ​Kubernetes អាច​ធ្វើ​អ្វី​បាន​ខ្លះ?
ដូចដែល​បាន​រៀប​រាប់​ខាងលើហើយថា Containerized application មាន​ភាព​ងាយ​ស្រួល​ក្នុង​ការ​បង្កើត កែប្រែ ដំឡើង និងអាច​ធ្វើបច្ចុប្បន្នភាពនៅពេល​កំពុង​ដំណើរការផងដែរ។ ប៉ុន្តែ​ការ​ប្រើ​ប្រាស់​Container Runtime ដើម្បីគ្រប់គ្រង​កម្មវិធីខនថេនើ​ជាច្រើន​ ដែល​មាន​ដំណើរការលើ​ម៉ាសុីន​មួយ​ទៅម៉ាសុីន​មួយ​ទៀត គឺជារឿងដ៏ស្មុគស្មាញ។ ស្រមៃថា​ បើ​យើ​ងមាន​កម្មវិធី​ខនថេនើ​រាប់រយ​កម្មវិធីកំពុង​ដំណើរការ​នៅ​លើ​ម៉ាសុីន​ជាច្រើន ហើយ​កម្មវិធីរបស់យើង​ទាំងនោះ​ផ្តល់​សេវាកម្មផ្សេងៗ​ដោយ​ត្រូវការ​ភ្ជាប់ទៅពិភពអុីនធើណេត ត្រូវការ​ធ្វើ​បច្ចុប្បន្នភាព ឡើងជំនាន់ ហើយ​ត្រូវ​ធានាថា​កម្មវិធី​របស់​យើង​អាច​ដំណើរការ​បាន​២៤/៧ ដោយ​មិន​មាន​ភាព​រអាករអួល វាជា​រឿង​មួយដែល​មនុស្សយើង​ត្រូវ​ឆែកមើលត្រួត​ពិនិត្យ​គ្រប់​គ្រងដោយផ្ទាល់យ៉ាង​ស្មុគស្មាញ។  
អ្នក​ធ្វើ​ការ​នៅក្រុម​ហ៊ុន​Googleផ្ទាល់ បាន​ជួប​ប្រទះ​ការលំបាក​ និង​ភាព​ស្មុគស្មាញទាំងអស់នេះ ទើបបង្កើត​Kubernetesនេះ​ឡើង​ដើម្បី​ផ្តល់​ភាព​ងាយ​ស្រួល​ក្នុង​ការ​គ្រប់គ្រង ដោយ​កាត់​បន្ថយ​កម្លាំង​ពលកម្មមនុស្ស ហើយ​ផ្តល់​សមត្ថភាព​អោយ​កម្មវិធីត្រូវ​បាន​គ្រប់​គ្រង​ដោយ​ស្វ័យ​ប្រវត្តិ និង ធានាអោយ​បាន​ថា​ការ​ដំណើរការ​កម្មវិធីមាន​ភាពរលូន​មិនមាន​បញ្ហាគាំង​ខូច​រអាករអួល​ផ្សេងៗ។  
Kubernetes អាច​ផ្តល់ងាយ​ស្រួល​បាន​ដូចខាង​ក្រោម៖

  - **Service discovery and load balancing**  
    Kubernetes អាច​ដាក់បញ្ចេញ​ខនថេនើ​អោយ​ប្រើប្រាស់ជាមួយ​នឹង​ DNS name និង IP address​របស់​វា​ផ្ទាល់​ៗខ្លួន។ Kubernetesធ្វើការ​រុករកមើល​សេវាដែលអាច​តភ្ជាប់​ប្រើ​ប្រាស់បាន រួច​ផ្តល់​ទៅឲ្យ​ខនថេនើ​សម្រាប់ការធ្វើ​ចរាចរណ៍​ចេញចូលទូទៅ​ទៅកាន់ខនថេនើនោះ។  ដូច្នេះ​យើងអាច​ភ្ជាប់​ទៅកាន់​កម្មវិធី​ខនថេនើ​របស់​យើង​ដោយ​​ប្រើ​ប្រាស់​អាសយដ្ឋាន​ IP address របស់វាដែល​ផ្តល់ពីKubernetesបាន។ ហើយ​ករណីដែល​ចរាចរណ៍​ទៅកាន់​ខនថេនើ​ណា​មួយ មាន​ភាព​មមាញញឹកខ្លាំង ពិបាក​ក្នុង​ការ​ភ្ជាប់ដើម្បីទាញយកឬផ្ទេរបញ្ជូន​ទិន្នន័យផ្សេងៗ Kubernetesក៏ផ្តល់ផងដែរនូវ​តុល្យភាពការងារ ដោយកំណត់ឲ្យ​ខនថេនើ​ប្រើ​ប្រាស់​នូវសេវា​ណា​ដែល​មិន​មមាញឹក កាត់បន្ថយ​ការ​ផ្តល់​សេវា​ទៅកន្លែង​មាន​ចរាចរណ៍​មមាញឹក ដើម្បីរក្សា​អោយ​បាន​ស្ថេរភាពរបស់កម្មវិធី​ខនថេនើនោះ។ វាប្រៀបបាន​ទៅនឹង​ប៉ូលីស​ចរាចរណ៍​ ឈរ​ចាំសម្រួល​ចរាចរណ៍​អោយ​អ្នក​ធ្វើដំណើរការកុំអោយ​កក់​ស្ទះ ហើយ​ព្រម​ទាំង​ប្រាប់​​អោយ​យើង​ជិះ​ផ្លូវផ្សេងៗដែល​មិនមាន​បញ្ហាកក់ស្ទះ។
    > [Service discovery](https://avinetworks.com/glossary/service-discovery/){:target=""\_blank"} គឺជា​ដំណើការ​នៃការអង្កេតដោយ​ស្វ័យ​ប្រវត្តិទៅលើឧបករណ៍(devices)និង​សេវានៅលើ​ប្រព័ន្ឋ​networkដើម្បី​ស្វែងរក​នូវ​​សេវាដែល​អាច​តភ្ជាប់​និង​ប្រើប្រាស់បាន​។   
    > [Load Balancing](https://avinetworks.com/what-is-load-balancing/){:target="\_blank"} គឺជាការ​បែងចែកចរាចរណ៍Networkក្នុង​ចំនោម​ម៉ាសុីន​កុំព្យូទ័រ​មេជាច្រើន។ វាធានាអោយ​បាន​ថា មិន​មាន​ម៉ាសុីន​កុំព្យូទ័រ​មួយ​ណាដែល​មាន​ចរាចរណ៍​ចេញចូល​មមាញឹកខ្លាំង​ជាងគេទេ ដើម្បីសម្រេច​អោយ​បាន​ចរន្ត​ការងារ​ស្មើភាព​គ្នា និង មិន​មាន​ភាព​រអាករអួល​ខកខាន​ក្នុង​ការ​ផ្តល់​សេវា។

  - **Storage orchestration**  
    Kubernetes អនុញ្ញាតិអោយអ្នក​អាច​ធ្វើការ​ភ្ជាប់ដោយ​ស្វ័យ​ប្រវត្តិ​ទៅកាន់ប្រព័ន្ឋផ្ទុកទិន្នន័យ​ណាមួយ​ដែល​អ្នកចង់បាន ដូចជា local storage, public cloud storage providers, និង​ប្រភេទ​storageជាច្រើនទៀត។​ រាល់​កម្មវិធីរបស់​យើង​តែងតែ​ត្រូវ​ការ​​ឃ្លាំង​ផ្ទុក​ទិន្នន័យ​(storage)សម្រាប់​ប្រើប្រាស់។​ ​នៅលើ​Kubernetes​ ការភ្ជាប់ទៅកាន់​ប្រព័ន្ឋ​ផ្ទុក​ទិន្នន័យ​របស់​យើង​ គឹមាន​ភាព​ងាយ​ស្រួល​និង​សំបូរបែបណាស់។
  - **Automated rollouts and rollbacks**  
    យើងអាច​កំណត់អោយ​Kubernetesធ្វើការ​បង្កើត​ខនថេនើថ្មីសម្រាប់ប្រើ លុបខនថេនើចាស់ដែល​នៅសល់​ចោល ព្រមទាំងបញ្ជូន​រាល់ទិន្នន័យ​ដែល​មាន​ទាំងអស់​ទៅកាន់​ខនថេនីថ្មីបាន។ រាល់ពេល​ដែល​យើង​ធ្វើបច្ចុប្បន្នភាព​ ឬ ដំឡើងជំនាន់កម្មវិធីម្តងៗ Kubernetesអាចអោយយើង​ធ្វើបាន​យ៉ាងងាយស្រួល និងមាន​ភាពរលូន ដោយ​មិន​ចាំបាច់បិទដំណើរការ​កម្មវិធីចាស់ រួច​ដំឡើងកម្មវិធីថ្មីជំនួសទេ។ Kubernetesនឹង​បង្កើតអោយ​មាន​​ដំណើរការខនថេនើ​ថ្មីជាមុន ហើយ​យើង​អាច​ធ្វើតេស្ត​ ឲ្យ​ប្រាកដថា​វាមាន​ភាព​ប្រក្រតី​ដំណើរការបាន​ត្រឹមត្រូវល្អហើយ ទើបកំណត់អោយ​ខនថេនើ​ថ្មី​ដំណើរការជំនួយអាចាស់ រួចទើបលុប​ខនថេនើចាស់​ដែល​មិន​ត្រូវការ​នោះ​ចោល។
  - **Automatic bin packing**  
    យើងក៏អាច​ប្រាប់​ទៅកាន់​Kubernetes អោយ​កំណត់​ចំនួន​ទំហំ CPU, Memory(RAM) ដែល​ខនថេនើ​នីមួយៗត្រូវការប្រើ។ Kubernetesអាចកំណត់អោយ​ខនថេនើ​ប្រើ​ប្រាស់ធនធាន​​អោយ​បាន​សមស្របបំផុត​ទៅតាម​អ្វីដែល​ម៉ាសុីន​កុំព្យូទ័រ​របស់​អ្នក​មាន។ ដូច្នេះ​ហើយ​មិន​មាន​ខនថេនើណាមួយ​ដែល​ប្រើប្រាស់នូវធនធាន​ទាំងអស់ដែល​មាន ធ្វើអោយ​ប៉ះពាល់​ដល់​ប្រព័ន្ឋ​កុំព្យូទ័រ​ទាំងមូល​នោះទេ។
  - **Self-healing**  
    Kubernetesធ្វើការ​restart​ ខនថេនើទាំងឡាយ​ណាដែលមាន​បញ្ហាដោយ​ស្វ័យ​ប្រវត្តិ ជំនួសនូវ​ខនថេនើថ្មី ករណីដែលrestartហើយ​នៅតែមាន​បញ្ហា ធ្វើការបិទដំណើរការ​ខនថេនើទាំងឡាយ​ណាដែល​មិន​មាន​ការឆ្លើយតប ព្រមទាំង​មិន​ផ្តល់​តំនរភ្ជាប់ទៅកាន់អ្នក​ប្រើប្រាស់ទេ ប្រសិនបើខនថេនើនោះមិន​ទាន់រួចរាល់​ក្នុងបំរើសេវាកម្មដល់​អ្នក​ប្រើប្រាស់។
  - **Secret and configuration management**  
    Kubernetes ក៏អាចអោយ​អ្នក​ធ្វើ​ការ​រក្សាទុក​និង​គ្រប់គ្រងពត៌មាន​ទិន្នន័យសំខាន់របស់អ្នក ដូចជា passwords, OAuth tokens, និង SSH keysជាដើម។

## Kubernetes Architecture
នៅពេល​ដែល​អ្នក​ដំឡើង Kubernetesមកប្រើ អ្នកនឹងទទួល​បាន​Clusterមួយ​ដេល​រួមផ្សំគ្នារវាង​ Master node(s) និង worker node(s) ភ្ជាប់ទំនាក់ទំនងរវាគ្នានិងគ្នាតាមរយៈបណ្តាញ​network ដូចដែល​បាន​ឃើញដូចរូបខាងក្រោម។
[![k8s-arch](/assets/images/kubernetes/k8s_architecture.png)](/assets/images/kubernetes/k8s_architecture.png)

## Kubernetes components
- **User**  
សំដៅទៅលើមនុស្សដែល​ជាអ្នកគ្រប់គ្រងលើKubernetes cluster។
A person or administrator who wish to manage the Kubernetes cluster.
  - **UI (Dashboard)** is a web-based Kubernetes user interface. You can use Dashboard to deploy containerized applications, troubleshoot, and manage the cluster itself.
  គឺជាInterfaceដែល​អ្នកប្រើប្រាស់ប្រើ​សម្រាប់ធ្វើការទំនាក់ទំនង​ទៅកាន់​Kubernetes តាមរយៈ Web browser។ អ្នកអាច​ប្រើប្រាស់Dashboard ដើម្បី​ដំឡើងកម្មវិធីខនថេនើ ដោះស្រាយ​បញ្ហា និង​គ្រប់គ្រងលើ​Kubernetes cluster ខ្លួន​វាផ្ទាល់ផងដែរ។
  - **CLI (Kubectl)** is command line interface for Kubernetes used to interact with control plane node through API server. It uses REST API to send request to create, delete, update, and manage Kubernetes resources.
  Command Line Interface គឺជាInterfaceដែល​អ្នក​ប្រើប្រាស់ប្រើសម្រាប់ធ្វើ​ការ​ទំនាក់ទំនងទៅកាន់​Kubernetes តាមរយៈ​ពាក្យបញ្ជា(command line)។ វាប្រើប្រាស់ REST API​ សម្រាប់ស្នើរធ្វើការ​បង្កើត លុប កំនែ និង​ការងារគ្រប់គ្រងផ្សេងៗទៀត​គ្រប់បែបយ៉ាងទៅកាន់ API server។

- **Control Plane (Master)**  
Control plane គឺជាម៉ាសុីន​មេ ដែល​មាន​តួនាទី​សម្រេចរាល់កិច្ចការទាំងអស់ចំពោះCluster។
The control plane's components make global decisions about the cluster.
  - **API Server** គឺជា Front-end API របស់ Kubernetes Control Plane មាន​តួនាទីទទួលសំនើរទាំងក្នុងនិង​ក្រៅcluster​ ហើយ​សម្រេចថាត្រូវអនុវត្ត​ឬច្រានចោល​សំនើរទាំងនោះ។ វាទទួល​យក​សំនើរផ្សេងៗពីខាងuser ព្រមទាំង​មាននាទីជាច្រកចេញចូល(gateway)ទៅកាន់Clusterទាំងមូលផងដែរ។ ដូច្នេះ​ហើយ​រាល់សមាសធាតុផ្សេងៗអាចធ្វើទំនាក់ទំនងទៅកាន់​Clusterបាន​តាម​រយៈ​ API Server នេះឯង។
  - **etcd** គឺជាឃ្លាំងផ្ទុកទិន្នន័យបែប key-value store ដ៏សាមញ្ញ ស្ថិតស្ថេរ និង​មាន​ស្ថេរភាពខ្ពស់ ហើយ​វាត្រូវ​បាន​គេប្រើជាdatabase​ ដើម្បី​រក្សាទុក​រាល់ទិន្នន័យ​ទាំងអស់​របស់​Clusterទាំងមូល។
  - **Controller** គឺជាប្រភេទ Daemon process ដែលដំណើរការគ្រប់គ្រងធនធានរបស់Kubernetes អង្កេតមើលសភាពរបស់​Cluster និងធ្វើការផ្លាស់ប្តូរភាព​មិន​ប្រក្រតីទាំងឡាយណា​ដែល​កើត​មាន​នៅលើ​Clusterអោយ​មាន​ភាពប្រក្រតីឡើងវិញ។ នៅក្នុង​Controller manager មាន​Controlerផ្សេងៗជាច្រើន​ដែល​មាន​មុខងារផ្សេងៗ​គ្នា គ្រប់គ្រងលើ​Resoucesផ្សេងៗ​របស់Kubernetes។​ Controllerទាំងនោះ​មាន​ដូចជា៖
    - Node Controller មានតួនាទីកំណត់សម្គាល់​សភាពរបស់ម៉ាសុីន(node) និងធ្វើការ​ឆ្លើយ​តប​រាល់បញ្ហាដែល​មាន​ចំពោះម៉ាសុីនដូចជានៅពេលម៉ាសុីនរលត់ គាំងខូចជាដើម។
    - Replication Controller មានតួនាទី​គ្រប់គ្រងនិងកំណត់ចំនួនReplica(ចម្លង)អោយ​បាន​ត្រឹម​ត្រូវ។

    (នៅមានControllerជាច្រើនទៀត)
  - **Scheduler** មានតួនាទីកំណត់ថាតើ​ ​ខនថេនើមួយណា​ត្រូវដំណើរការនៅលើម៉ាសុីនកុំព្យូទ័រ​មួយណា​ក្នុង​Cluster។ វាធ្វើការឃ្លាំមើលទៅលើPOD(ជាពាក្យបច្ចេកទេស​ប្រើក្នុងKubernetes ដែលអាចហៅបានថាជាធនធានResourceមួយ​របស់Kubernetes ប្រើសំរាប់ផ្ទុកនិង​គ្រប់គ្រង​ខនថេនើ)ដែល​ទើបតែបង្កើតថ្មី​មិនទាន់ដំណើរការ ហើយ​វាជាអ្នក​សម្រេចឲ្យ​PODអាច​ប្រើបានធនធានដែល​ត្រូវការដូចជាCPU memory ទៅចំនួន​ដែល​កំណត់ ព្រមទាំងជាអ្នកកំណត់ថាតើPODនោះ​ត្រូវដាក់ឲ្យ​ដំណើរការលើ​ម៉ាសុីន​មួយណា។

- **Node (worker)**  
សមាសធាតុរបស់ម៉ាសុីនពលករ(Worker node)ទាំងអស់​ត្រូវដំណើរការនៅ​គ្រប់ម៉ាសុីន​ពលករ​ទាំងអស់ ហើយ​មានតួនាទីជាអ្នកគ្រប់គ្រងប្រព័ន្ឋដំណើរការរបស់POD។
  - **kubelet** គឺជាAgent process ដែល​ដំណើរការនៅលើ​ម៉ាសុីន​នីមួយៗ មាន​តួនាទីអានពត៌មានរបស់​ខនថេនើ​ ដោយ​ប្រាកដថា​ខនថេនើទាំងនោះដំណើរការ​និង​មាន​សុខ​ភាពល្អ។ វាធ្វើ​ការ​ទំនាក់ទំនងជាមួយ​ម៉ាសុីន​មេ(Master node) ដើម្បីទទួល​ពាក្យ​បញ្ជាផ្សេងៗដែល​ម៉ាសុីន​មេ​បញ្ជាអោយ​ធ្វើ​នៅលើម៉ាសុីន​ដែល​វាដំណើរការនោះ។
  - **kube-proxy** គឺជាNetwork proxy និង​ជា​ Load balancer ដែល​ដំណើរការ​នៅលើ​ម៉ាសុីន​នីមួយៗ មាន​តួនាទី​ត្រួត​ពិនិត្យ​ប្រព័ន្ឋ​network​នៅម៉ាសុីនទាំងនោះ ហើយ​ព្រមទាំង​ផ្តល់​នូវ​ទំនាក់ទំនង​network​ចេញចូល​ទាំង​ក្នុង​និង​ក្រៅCluster ទៅកាន់PODទាំងអស់។
  - **Container Runtime** គឺជាsoftwareមួយដែល​មាន​តួនាទីជាអ្នកដំណើរការកម្មវិធីខនថេនើ។

## ឯកសារយោង
- <https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/>
- <https://www.docker.com/resources/what-container>
- <https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine>
- <https://www.youtube.com/watch?v=IMOZCDhH7do>
